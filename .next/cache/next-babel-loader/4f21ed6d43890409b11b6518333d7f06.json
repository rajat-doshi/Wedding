{"ast":null,"code":"import _objectSpread from \"@babel/runtime-corejs2/helpers/esm/objectSpread\";\nimport _slicedToArray from \"@babel/runtime-corejs2/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/home/bacancy/Desktop/Temp/Wedding/components/Public/ForgotPassword/index.js\";\nimport React, { useEffect, useState } from \"react\";\nimport { Input } from \"../../Common/index\";\nimport { cloneDeep } from \"lodash\";\nimport { getFormDetails } from \"../../../util/helper\";\nimport { ts, te } from \"../../../util/ReduxToaster\";\nimport { postLogin, postForgotPassword } from \"../../../util/Services/UserMaster\";\nimport { ActionLogin } from \"../../../Redux/Action/Login/index\";\nimport { connect } from \"react-redux\";\nimport Router from \"next/router\";\nvar initState = {\n  form: {\n    email_address: \"\",\n    errors: {\n      email_address: null\n    }\n  },\n  loading: false\n};\n\nvar ForgotPasswordComponent = function ForgotPasswordComponent(props) {\n  var _useState = useState(cloneDeep(initState)),\n      _useState2 = _slicedToArray(_useState, 2),\n      state = _useState2[0],\n      setState = _useState2[1];\n\n  var form = state.form; // handle change event\n\n  var onInputChange = function onInputChange(name, value) {\n    var error = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : undefined;\n    var form = state.form;\n    form[name] = value;\n\n    if (error !== undefined) {\n      var errors = form.errors;\n      errors[name] = error;\n    }\n\n    setState({\n      form: form\n    });\n  }; // handle validation\n\n\n  var onInputValidate = function onInputValidate(name, error) {\n    var errors = state.form.errors;\n    errors[name] = error;\n    setState({\n      form: _objectSpread({}, state.form, {\n        errors: errors\n      })\n    });\n  };\n\n  var handleSubmit = function handleSubmit(e) {\n    e.preventDefault();\n    var form = state.form,\n        id = state.id;\n    var obj = getFormDetails(form, onInputValidate);\n\n    if (!obj) {\n      te(\"Please Enter required field\");\n      return false;\n    }\n\n    if (obj) {\n      state.loading = true;\n      setState(_objectSpread({}, state));\n      postForgotPassword(obj).then(function (res) {\n        if (res.error) {\n          return;\n        }\n\n        if (res.data.error) {\n          te(res.data.message);\n        } else {\n          Router.push(\"/forgot-password/verify-otp?email-address=\".concat(obj.email_address));\n          ts(res.data.message);\n        }\n\n        state.loading = false;\n        setState(_objectSpread({}, state));\n      });\n    }\n  };\n\n  return React.createElement(React.Fragment, null, React.createElement(\"div\", {\n    \"class\": \"login-form form-main\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"container\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79\n    },\n    __self: this\n  }, React.createElement(\"form\", {\n    onSubmit: function onSubmit(e) {\n      handleSubmit(e);\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"row mt-2\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"col-lg-12\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86\n    },\n    __self: this\n  }, React.createElement(Input, {\n    className: \"form-control\",\n    placeholder: \"Email Address\",\n    onChangeFunc: onInputChange,\n    validationFunc: onInputValidate,\n    name: \"email_address\",\n    value: form.email_address,\n    error: form.errors.email_address,\n    title: \"Email Address\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87\n    },\n    __self: this\n  }))), React.createElement(\"div\", {\n    className: \"row mt-2\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 100\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"col-lg-12\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 101\n    },\n    __self: this\n  }, React.createElement(\"button\", {\n    className: \"btn btn-primary form-control\",\n    type: \"submit\",\n    disabled: state.loading,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 102\n    },\n    __self: this\n  }, state.loading ? \"Please wait...\" : \"Sent otp\")))))));\n};\n\nexport default connect(function (state) {\n  return state;\n}, {\n  ActionLogin: ActionLogin\n})(ForgotPasswordComponent);","map":{"version":3,"sources":["/home/bacancy/Desktop/Temp/Wedding/components/Public/ForgotPassword/index.js"],"names":["React","useEffect","useState","Input","cloneDeep","getFormDetails","ts","te","postLogin","postForgotPassword","ActionLogin","connect","Router","initState","form","email_address","errors","loading","ForgotPasswordComponent","props","state","setState","onInputChange","name","value","error","undefined","onInputValidate","handleSubmit","e","preventDefault","id","obj","then","res","data","message","push"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport { Input } from \"../../Common/index\";\nimport { cloneDeep } from \"lodash\";\nimport { getFormDetails } from \"../../../util/helper\";\nimport { ts, te } from \"../../../util/ReduxToaster\";\nimport {\n  postLogin,\n  postForgotPassword,\n} from \"../../../util/Services/UserMaster\";\nimport { ActionLogin } from \"../../../Redux/Action/Login/index\";\nimport { connect } from \"react-redux\";\nimport Router from \"next/router\";\nconst initState = {\n  form: {\n    email_address: \"\",\n\n    errors: {\n      email_address: null,\n    },\n  },\n  loading: false,\n};\nconst ForgotPasswordComponent = (props) => {\n  const [state, setState] = useState(cloneDeep(initState));\n  let { form } = state;\n\n  // handle change event\n  const onInputChange = (name, value, error = undefined) => {\n    const { form } = state;\n    form[name] = value;\n\n    if (error !== undefined) {\n      let { errors } = form;\n      errors[name] = error;\n    }\n    setState({ form });\n  };\n  // handle validation\n  const onInputValidate = (name, error) => {\n    let { errors } = state.form;\n    errors[name] = error;\n    setState({ form: { ...state.form, errors: errors } });\n  };\n  const handleSubmit = (e) => {\n    e.preventDefault();\n\n    const { form, id } = state;\n\n    let obj = getFormDetails(form, onInputValidate);\n    if (!obj) {\n      te(\"Please Enter required field\");\n      return false;\n    }\n\n    if (obj) {\n      state.loading = true;\n      setState({ ...state });\n      postForgotPassword(obj).then((res) => {\n        if (res.error) {\n          return;\n        }\n        if (res.data.error) {\n          te(res.data.message);\n        } else {\n          Router.push(\n            `/forgot-password/verify-otp?email-address=${obj.email_address}`\n          );\n          ts(res.data.message);\n        }\n        state.loading = false;\n        setState({ ...state });\n      });\n    }\n  };\n\n  return (\n    <>\n      <div class=\"login-form form-main\">\n        <div className=\"container\">\n          <form\n            onSubmit={(e) => {\n              handleSubmit(e);\n            }}\n          >\n            <div className=\"row mt-2\">\n              <div className=\"col-lg-12\">\n                <Input\n                  className=\"form-control\"\n                  placeholder=\"Email Address\"\n                  onChangeFunc={onInputChange}\n                  validationFunc={onInputValidate}\n                  name=\"email_address\"\n                  value={form.email_address}\n                  error={form.errors.email_address}\n                  title=\"Email Address\"\n                />\n              </div>\n            </div>\n\n            <div className=\"row mt-2\">\n              <div className=\"col-lg-12\">\n                <button\n                  className=\"btn btn-primary form-control\"\n                  type=\"submit\"\n                  disabled={state.loading}\n                >\n                  {state.loading ? \"Please wait...\" : \"Sent otp\"}\n                </button>\n              </div>\n            </div>\n          </form>\n        </div>\n      </div>\n    </>\n  );\n};\n\nexport default connect((state) => state, { ActionLogin })(\n  ForgotPasswordComponent\n);\n"]},"metadata":{},"sourceType":"module"}